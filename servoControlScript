#include <SoftwareSerial.h>// import the serial library

#include <Servo.h>
SoftwareSerial Genotronex(12, 13); // RX, TX

Servo s[2]; //the number here decide the number of servo attached to our arduino
int s1[]={3,4}; //list of correspoding pin numbers s1[0] is the pin nummber of s[0]
int degintial[] = {0,0};//intial position of each motor


String str = "";
int counter = 0;
int deg = 0;
int numberOfDigit = 0;

void setup() {
  Genotronex.begin(9600);//sets baund rate for Bluetooth Serial Communication 
  Serial.begin(9600);
  for(int i =0;i<sizeof(s)/sizeof(*s);i++)
  {
    s[i].attach(s1[i]);
    s[i].write(degintial[i]);//sets every motor to its intial position as specified in deginital
    delay(100);
  }
  delay(100);
  Genotronex.println("Bluetooth Is ON. Press f for forward, blah blah... ");
}
void loop()
{ 
    if (Genotronex.available()) 
    {  
      char x = char(Genotronex.read());
      if(x == ':')
      {
        int k  = (atoi(str.c_str()));
        s[counter].write(k);
        counter = (counter+1)  % (sizeof(s)/sizeof(*s));
        //deg = 0;
        str="";
        //numberOfDigit =0;
        Serial.print(k);
        Serial.print(":");
        Serial.println(counter);
        
      }
      else
      {
        str =  str+x;
        Serial.println(str);
      }

    }
  
}
